<% include header.ejs %>
<style>
.error {
	color: red;
}
</style>
<div class="container">
    <div class="row">
        <div class="col-md-8">
            <h1><%= pageTitle %>
            </h1>
            <!-- template code --><% if(typeof formError !== 'undefined') { %>
            <p class="error"><%= formError %>
            </p><% } %>
            <form role="form" class="edit-post" method="post" action="/post/add-post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" class="form-control" id="title" name="title" placeholder="Post Title" value="<%= (typeof post !== 'undefined') ? post.title : '' %>" />
                    </div>
                    <div class="form-group">
                        <label for="body">Body</label>
                        <textarea rows="12" class="form-control" id="body" name="body" placeholder="Post Body"><%= (typeof post !== 'undefined') ? post.body : '' %></textarea>
                    </div>
                    <div class="form-group">
                        <label for="author">Author</label>
                        <input class="form-control" id="author" name="author" placeholder="Post Author" value="<%= (typeof post !== 'undefined') ? post.author : '' %>"/>
                        </div>
                        <div class="form-group">
                            <label for="body">Photo</label>
                            <input type="file" name="photo" class="form-control" />
                            <!-- If there is a photo uploaded previously then show that photo --><% if(typeof post !== 'undefined') { %>
                            <% if(post.photo) { %>
							<img src="/uploads/<%= post.photo %>" width="100" height="auto" /><% } %>
							<% } %>
                            </div><% if(pageTitle === 'Edit Post') { %>
                            <input type="hidden" name="id" value="<%= post._id %>" /><% } %>
                                <button type="submit" class="btn btn-default">Submit</button>
                                <a href="/post">
                                    <button type="button" class="btn btn-default">Cancel</button>
                                </a>
                            </form>
                        </div>
                        <!-- /col-md-8 --><% include sidebar.ejs %>
                    </div>
                    <!-- /row -->
                </div><% include footer.ejs %>